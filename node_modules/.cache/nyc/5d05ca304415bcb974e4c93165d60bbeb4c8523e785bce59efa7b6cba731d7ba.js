'use strict';// external modules
var cov_mmg439hj4=function(){var path="/home/travis/build/daniele-athome/codimd/lib/letter-avatars.js";var hash="6f8da1c3de72cf676b5a35c1da5ec63b985c317f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/travis/build/daniele-athome/codimd/lib/letter-avatars.js",statementMap:{"0":{start:{line:3,column:15},end:{line:3,column:32}},"1":{start:{line:4,column:20},end:{line:4,column:42}},"2":{start:{line:5,column:15},end:{line:5,column:34}},"3":{start:{line:8,column:0},end:{line:26,column:1}},"4":{start:{line:9,column:16},end:{line:12,column:4}},"5":{start:{line:13,column:17},end:{line:13,column:51}},"6":{start:{line:15,column:12},end:{line:15,column:68}},"7":{start:{line:16,column:2},end:{line:16,column:164}},"8":{start:{line:17,column:2},end:{line:17,column:14}},"9":{start:{line:18,column:2},end:{line:18,column:63}},"10":{start:{line:19,column:2},end:{line:19,column:95}},"11":{start:{line:20,column:2},end:{line:20,column:93}},"12":{start:{line:21,column:2},end:{line:21,column:18}},"13":{start:{line:22,column:2},end:{line:22,column:15}},"14":{start:{line:23,column:2},end:{line:23,column:17}},"15":{start:{line:25,column:2},end:{line:25,column:12}},"16":{start:{line:28,column:0},end:{line:50,column:1}},"17":{start:{line:30,column:2},end:{line:32,column:3}},"18":{start:{line:31,column:4},end:{line:31,column:38}},"19":{start:{line:33,column:2},end:{line:33,column:33}},"20":{start:{line:35,column:15},end:{line:35,column:39}},"21":{start:{line:36,column:2},end:{line:36,column:34}},"22":{start:{line:37,column:20},end:{line:37,column:38}},"23":{start:{line:39,column:2},end:{line:48,column:3}},"24":{start:{line:40,column:4},end:{line:40,column:58}},"25":{start:{line:41,column:4},end:{line:45,column:5}},"26":{start:{line:42,column:6},end:{line:42,column:23}},"27":{start:{line:44,column:6},end:{line:44,column:22}},"28":{start:{line:47,column:4},end:{line:47,column:123}},"29":{start:{line:49,column:2},end:{line:49,column:14}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:25},end:{line:8,column:26}},loc:{start:{line:8,column:41},end:{line:26,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:28},end:{line:28,column:29}},loc:{start:{line:28,column:68},end:{line:50,column:1}},line:28}},branchMap:{"0":{loc:{start:{line:28,column:44},end:{line:28,column:54}},type:"default-arg",locations:[{start:{line:28,column:52},end:{line:28,column:54}}],line:28},"1":{loc:{start:{line:28,column:56},end:{line:28,column:66}},type:"default-arg",locations:[{start:{line:28,column:62},end:{line:28,column:66}}],line:28},"2":{loc:{start:{line:30,column:2},end:{line:32,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:32,column:3}},{start:{line:30,column:2},end:{line:32,column:3}}],line:30},"3":{loc:{start:{line:39,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:39,column:2},end:{line:48,column:3}},{start:{line:39,column:2},end:{line:48,column:3}}],line:39},"4":{loc:{start:{line:39,column:6},end:{line:39,column:42}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:18}},{start:{line:39,column:22},end:{line:39,column:42}}],line:39},"5":{loc:{start:{line:41,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:45,column:5}},{start:{line:41,column:4},end:{line:45,column:5}}],line:41},"6":{loc:{start:{line:47,column:43},end:{line:47,column:106}},type:"binary-expr",locations:[{start:{line:47,column:43},end:{line:47,column:47}},{start:{line:47,column:51},end:{line:47,column:93}},{start:{line:47,column:97},end:{line:47,column:106}}],line:47}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0},b:{"0":[0],"1":[0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"6f8da1c3de72cf676b5a35c1da5ec63b985c317f"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const crypto=(cov_mmg439hj4.s[0]++,require('crypto'));const randomcolor=(cov_mmg439hj4.s[1]++,require('randomcolor'));const config=(cov_mmg439hj4.s[2]++,require('./config'));// core
cov_mmg439hj4.s[3]++;exports.generateAvatar=function(name){cov_mmg439hj4.f[0]++;const color=(cov_mmg439hj4.s[4]++,randomcolor({seed:name,luminosity:'dark'}));const letter=(cov_mmg439hj4.s[5]++,name.substring(0,1).toUpperCase());let svg=(cov_mmg439hj4.s[6]++,'<?xml version="1.0" encoding="UTF-8" standalone="no"?>');cov_mmg439hj4.s[7]++;svg+='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="96" width="96" version="1.1" viewBox="0 0 96 96">';cov_mmg439hj4.s[8]++;svg+='<g>';cov_mmg439hj4.s[9]++;svg+='<rect width="96" height="96" fill="'+color+'" />';cov_mmg439hj4.s[10]++;svg+='<text font-size="64px" font-family="sans-serif" text-anchor="middle" fill="#ffffff">';cov_mmg439hj4.s[11]++;svg+='<tspan x="48" y="72" stroke-width=".26458px" fill="#ffffff">'+letter+'</tspan>';cov_mmg439hj4.s[12]++;svg+='</text>';cov_mmg439hj4.s[13]++;svg+='</g>';cov_mmg439hj4.s[14]++;svg+='</svg>';cov_mmg439hj4.s[15]++;return svg;};cov_mmg439hj4.s[16]++;exports.generateAvatarURL=function(name,email=(cov_mmg439hj4.b[0][0]++,''),big=(cov_mmg439hj4.b[1][0]++,true)){cov_mmg439hj4.f[1]++;let photo;cov_mmg439hj4.s[17]++;if(typeof email!=='string'){cov_mmg439hj4.b[2][0]++;cov_mmg439hj4.s[18]++;email=''+name+'@example.com';}else{cov_mmg439hj4.b[2][1]++;}cov_mmg439hj4.s[19]++;name=encodeURIComponent(name);const hash=(cov_mmg439hj4.s[20]++,crypto.createHash('md5'));cov_mmg439hj4.s[21]++;hash.update(email.toLowerCase());const hexDigest=(cov_mmg439hj4.s[22]++,hash.digest('hex'));cov_mmg439hj4.s[23]++;if((cov_mmg439hj4.b[4][0]++,email!=='')&&(cov_mmg439hj4.b[4][1]++,config.allowGravatar)){cov_mmg439hj4.b[3][0]++;cov_mmg439hj4.s[24]++;photo='https://www.gravatar.com/avatar/'+hexDigest;cov_mmg439hj4.s[25]++;if(big){cov_mmg439hj4.b[5][0]++;cov_mmg439hj4.s[26]++;photo+='?s=400';}else{cov_mmg439hj4.b[5][1]++;cov_mmg439hj4.s[27]++;photo+='?s=96';}}else{cov_mmg439hj4.b[3][1]++;cov_mmg439hj4.s[28]++;photo=config.serverURL+'/user/'+((cov_mmg439hj4.b[6][0]++,name)||(cov_mmg439hj4.b[6][1]++,email.substring(0,email.lastIndexOf('@')))||(cov_mmg439hj4.b[6][2]++,hexDigest))+'/avatar.svg';}cov_mmg439hj4.s[29]++;return photo;};